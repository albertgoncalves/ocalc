#!/usr/bin/env bash

if [ $(uname -s) = "Darwin" ]; then
    alias ls='ls --color=auto'
    alias ll='ls -l'
else
    alias open="xdg-open"
fi

export WD=$(pwd)

for x in calc/bin calc/build; do
    if [ ! -d $WD/$x ]; then
        mkdir $WD/$x
    fi
done

indent () {
    if [ -d $1 ]; then
        xs=$1/*.ml
        if ls $xs >/dev/null 2>&1; then
            for x in $xs; do
                echo $x
                ocp-indent -i $x
            done
        fi
    fi
}

export -f indent
