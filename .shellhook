#!/usr/bin/env bash

if [ $(uname -s) = "Darwin" ]; then
    alias ls='ls --color=auto'
    alias ll='ls -l'
else
    alias open="xdg-open"
fi

export WD=$(pwd)

for x in bin build; do
    if [ ! -d $WD/$x ]; then
        mkdir $WD/$x
    fi
done

indent () {
    home=$(pwd)
    cd $WD
    for f in $WD/src/*.ml; do
        echo $f
        ocp-indent -i $f
    done
    cd $home
}

export -f indent
